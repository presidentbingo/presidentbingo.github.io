var com=com||{};com.epicgames=com.epicgames||{};com.epicgames.account=com.epicgames.account||{};com.epicgames.account.web=com.epicgames.account.web||{};com.epicgames.account.web.widgets=function(){if(com.epicgames.account.web.URLS===undefined){console.error("com.epicgames.acount.web.URLS not defined. Aborting widget load something is wrong.");return}if(window.jQuery===undefined){console.error("document.jQuery is not defined. JQuery must be loaded to use this widget. Aborting widget load something is wrong.");return}if(window.jQuery.validator===undefined){console.error("jQuery.validator is not defined. JQuery validation must be loaded to use this widget. Aborting widget load something is wrong.");return}if(window.ue){window.addEventListener("contextmenu",function(e){e.preventDefault();return false})}var e={};var t="accountPortalModalOverlay";var n;var r;var i;var s;var o;var u;var a;var f;var l;var c;var h;var p;var d;var v;var m;var g;var y;var b;var w=/\s*.+@.+\..+\s*/;var E={};var S;var x;var T;var N={};var C=[];var k={};var L=function(e){console.log("loadI18N");e=e||function(){};var t=true;for(var n in E){if(E.hasOwnProperty(n)){t=false}}if(t){console.log("Messages not loaded, loading");if(com.epicgames.account.web.runLocal){$.getJSON(com.epicgames.account.web.URLS.i18nMessagesJSON,function(t){E=t;console.log("Messages loaded running callback");O();e()})}else{$.ajax({url:com.epicgames.account.web.URLS.i18nMessagesJSON,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},success:function(t){E=t;console.log("Messages loaded running callback");O();e()},error:function(t,n,r){console.log("Failed to load i18n messages json js messages will not be translated.  "+r);O();e()}})}}else{console.log("Messages already loaded");e()}};var A=function(e){return E[e]===undefined?e:E[e]};jQuery.validator.addMethod("email",function(e,t){return this.optional(t)||e.length>3&&e.search(w)!==-1});jQuery.validator.addMethod("passwordComplexity",function(e,t){return this.optional(t)||/^(?!.*? )(?=.*?[A-Za-z])(?=.*?[0-9]).{7,}$/.test(e)},A("messages.com.epicgames.accountportal.js.validation.passwordComplexity"));jQuery.validator.addMethod("namePattern",function(e,t){if(this.optional(t)){return true}var n=/^[\w\- .]{3,16}$/.test(e);var r=/[_\- .]{2,}/.test(e);return n&&!r},A("messages.com.epicgames.accountportal.common.info.displayName"));jQuery.validator.setDefaults({ignore:".fieldValidationError",errorClass:"fieldInvalid",wrapper:"div",errorPlacement:function(e,t){if(!com.epicgames.account.web.hideValidation){e.addClass("fieldValidationError").insertAfter(t)}},onkeyup:function(e,t){if(com.epicgames.account.web.doNotValidateRealtime){9!==t.which&&e.classList.contains("fieldInvalid")&&this.element(e);return}9!==t.which&&this.element(e)}});var O=function(){console.log("setupJQueryValidateI18n");jQuery.validator.messages=$.extend(jQuery.validator.messages,{required:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.required"),remote:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.remote"),email:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.email"),url:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.url"),date:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.date"),dateISO:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.dateISO"),number:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.number"),digits:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.digits"),creditcard:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.creditcard"),equalTo:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.equalTo"),maxlength:jQuery.validator.format(A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.maxlength")),minlength:jQuery.validator.format(A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.minlength")),rangelength:jQuery.validator.format(A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.rangelength")),range:jQuery.validator.format(A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.range")),max:jQuery.validator.format(A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.max")),min:jQuery.validator.format(A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.min"))})};var M=function(e,t,n,r){var i=screen.availLeft!==undefined?screen.availLeft:window.screenLeft!==undefined?window.screenLeft:screen.left;var s=screen.availTop!==undefined?screen.availTop:window.screenTop!==undefined?window.screenTop:screen.top;var o=screen.width!==undefined?screen.width:window.innerWidth!==undefined?window.innerWidth:document.documentElement.clientWidth;var u=screen.height!==undefined?screen.height:window.innerHeight!==undefined?window.innerHeight:document.documentElement.clientHeight;var a=o/2-n/2+i;var f=u/2-r/2+s;var l=window.open(e,t,"toolbar=no,location=no,width="+n+", height="+r+", top="+f+", left="+a);if(window.focus){l.focus()}};var _=function(e){L(function(){var t=document.createElement("div");if(!com.epicgames.account.web.pleaseWaitDialog){t.setAttribute("id","pleaseWaitDialogId");t.setAttribute("class","pleaseWaitClass");document.getElementsByTagName("body")[0].appendChild(t);var n=document.createElement("div");n.setAttribute("class","pleaseWaitContents");var r=Tt?A("messages.com.epicgames.accountportal.common.launcher.anonLogin"):A("messages.com.epicgames.accountportal.common.launcher.signingPleaseWait");n.innerHTML='<p class="welcome" id="welcomeGreeting">&nbsp;</p><p id="loginMode">'+r+'</p><div class="launcherPreload"></div>';t.appendChild(n);com.epicgames.account.web.pleaseWaitDialog=t;window.ue.signinprompt.registersignincompletecallback(function(e){if(e){var t="";if(!Tt){if(!Nt){t=A("messages.com.epicgames.accountportal.common.launcher.signingWelcomeBackGreeting")}else{t=A("messages.com.epicgames.accountportal.common.launcher.signingGreeting")}$("#welcomeGreeting").html(t.format(e.displayname))}}})}if(Tt){$("#loginMode").html(A("messages.com.epicgames.accountportal.common.launcher.anonLogin"))}if(e){$("#accountPortalModalOverlay").hide();$("#pleaseWaitDialogId").show()}else{$("#accountPortalModalOverlay").show();$("#pleaseWaitDialogId").hide()}})};var D=function(e){y=e};var P=function(e){b=e};var H=function(e){S=e};var B=function(e){T=e};var j=function(e){N=e};var F=function(e){x=e};var I=function(e){console.log("doNoCORSRedirect");var t=$.extend({},e);var n=t.noCorsUrl;if(n===null){console.error("Call made to doNoCORSRedirect without noCorsUrl specified. Aborting.");return}if(S!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"redirectUrl="+encodeURIComponent(S)}if(t.appMessage!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"appMessage="+encodeURIComponent(appMessage)}if(t.regSubheading!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"regSubheading="+encodeURIComponent(regSubheading)}if(t.loginSubheading!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"loginSubheading="+encodeURIComponent(loginSubheading)}if(t.appMessage!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"psnState="+encodeURIComponent(psnState)}if(t.authType!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"authType="+encodeURIComponent(authType)}if(t.psnDisplayName!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"psnDisplayName="+encodeURIComponent(psnDisplayName)}if(t.linkExtAuth!==undefined){n+=n.indexOf("?")>-1?"&":"?"+"linkExtAuth="+encodeURIComponent(linkExtAuth)}window.location.replace(n)};var q=function(){s=f=p=m=h=g=c=l=o=d=v=null};var R=function(e){var t=e;return function(e,n,s){if(window.ue&&window.ue.signinprompt&&s.getResponseHeader("X-EPIC-LAUNCHER-EVENT")){var o=s.getResponseHeader("X-EPIC-LAUNCHER-EVENT");window.ue.signinprompt[o](e.data);if(t&&typeof t==="function"){console.log("Calling a callback in ajaxSuccessHandlerModal");t(e,n,s)}}else{if(s.getResponseHeader("X-EPIC-LOGIN-COMPLETE-REDIRECT")){var u=$("<span>").addClass("subheading");if(e.redirectURL===undefined){u.html(A("messages.com.epicgames.accountportal.commmon.unexpectedRedirectResponse"));i.html(u);return}console.log("Redirecting to redirectURL");if(r&&!e.hideMessage){r.addClass("redirecting");u.html(A("messages.com.epicgames.accountportal.common.redirecting"));i.html(u)}if(t&&typeof t==="function"){if(t(e,n,s)){console.log("callback returns true, skip redirecting");return}}window.location.replace(e.redirectURL);return}Q(function(){console.log("ajaxSuccessHandlerModal showModal callback running");i.html(s.responseText);Ln($("#location").val());Y();X();W();U();Lt();if(com.epicgames.account.web.URLS.isEmbedded){$("#country").find("option").filter(function(){return $(this).val()==="KR"}).remove()}if(t&&typeof t==="function"){console.log("Calling a callback in ajaxSuccessHandlerModal");t(e,n,s)}})}}};var U=function(){if(window.ue&&window.ue.signinprompt&&r){$("input[type=submit]").removeClass("disabled")}};var z=/^(\d+)\.(\d+)\.(\d+)$/;var W=function(){var e=document.getElementsByTagName("form");var t=e&&e.length>0?e[0].elements:[];for(var n=0;n<t.length;n++){var r=t[n];var i={};try{i=$("#password:-webkit-autofill")}catch(s){i.length=0}if(r.value||i.length){r.parentNode.classList.add("filled")}r.addEventListener("input",function(){if(this.value){this.parentNode.classList.add("filled")}else{this.parentNode.classList.remove("filled")}})}if(window.ue&&window.ue.client&&window.ue.client.getversion){window.ue.client.getversion().then(function(e){if(e){if(e.apiversions.signin){var t=z.exec(e.apiversions.signin);if(parseInt(t[1])>=1){$("#thirdPartyLogin").show()}else{$("#thirdPartyLogin").hide()}}}})}};var X=function(){var e=function(e){if(e&&e.getModifierState){if(e.getModifierState("CapsLock")){$("#capsLocked").show()}else{$("#capsLocked").hide()}}};var t=function(){if(window.event){var e=window.event.getModifierState&&window.event.getModifierState("CapsLock");if(e){$("#capsLocked").show()}else{$("#capsLocked").hide()}}};document.onkeyup=e;document.onkeydown=e;window.onclick=t};var V=function(e){if(e.result===true||e.redirectURL!==undefined){console.log("logout successful");if(b){console.log("calling logout callback");b();return}var t=e.redirectURL!==undefined?e.redirectURL:"/";console.log("redirecting to "+t);if(r){r.addClass("redirecting");var n=$("<span>").addClass("subheading");n.html(A("messages.com.epicgames.accountportal.common.redirecting"));i.html(n)}window.location.replace(t);return}console.error("there was an error logging out");Q(function(){console.log("ajaxLogoutSuccessHandlerModal error logging out showModal callback running");var e=$("<span>").addClass("subheading");e.html(A("messages.com.epicgames.accountportal.commmon.failedToLogOut"));i.html(e)})};var J=function(e,t,n){Q(function(){if(window.ue&&window.ue.signinprompt){var r=e.getResponseHeader("X-EPIC-LAUNCHER-ERROR-CODE");if(r){window.ue.signinprompt.onsigninerror(r)}else if((e.readyState===0||e.readyState===4)&&!e.responseText){window.ue.signinprompt.onsigninerror(3)}}console.log("ajaxErrorHandlerModal showModal callback running");console.log("Error was:"+n+" textStatus:"+t);i.html(e.responseText);Ln($("#location").val());X();W();U();$("input[type=submit]").removeAttr("disabled")})};var K=function(){console.info("buildModal");if(n===undefined){console.info("creating modal overlay and dialog");n=$("#"+t);if(n.length===0){n=$("<div>").attr("id",t).addClass("accountPortalModalOverlay customProductClass").hide();$("body").append(n)}else{console.info("modal already exist. Returning");r=$("#accountPortalModalDialog");i=$("#accountPortalModalDialogContents");return}r=$("<div>").attr("id","accountPortalModalDialog").addClass("accountPortalModalDialog").css("display","inline-block");var e=Tn("hideLogo");if(!e){var s=$("<span>");s.addClass("logo");r.append(s)}i=$("<div>").attr("id","accountPortalModalDialogContents").addClass("modalContent");r.append(i);n.append(r)}};var Q=function(e){console.log("showModal");e=e||function(){};L(function(){console.log("ShowModal anon callback running");q();K();n.show();r.show();e()})};var G=function(e){console.log("hideModal");if(window.ue&&window.ue.signinprompt){Tt=false;window.ue.signinprompt.requestloginaccount();return}if(e&&e.goBack){var t=document.createElement("a");t.href=document.referrer;if(t.host!==window.location.host&&window.history){window.history.back();return}}if(n){n.hide()}if(r){r.hide()}if(!y){y=$("input[name=client_id]").val()}var i=$.extend({error:"cancelled",isModal:"true",client_id:y},N,e);var s=T||function(){$.ajax({url:com.epicgames.account.web.URLS.doRedirectWithErrorUrl,data:i,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};s()};var Y=function(){var e=r.find("input[type=checkbox]");if(e.length>0){e.on("focus",function(){$(this).parent().find("label span").addClass("focused")});e.on("blur",function(){$(this).parent().find("label span").removeClass("focused")})}};var Z=function(e){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.requestforgotpassword()}else{var t=$.extend({},N,e);var n=Tn("appMessage");if(n!==""){$.extend(t,{appMessage:n})}if($.support.cors){et(t)}else{t.noCorsUrl=com.epicgames.account.web.URLS.requestPasswordReset;I(t)}}};var et=function(e){console.log("requestReset");var t={hideSignInLink:false};var n=$.extend({},t,N,e);var i=r&&r.find("#epic_username").val();if(i){$.extend(n,{email:i})}var s=Tn("productName");if(s){$.extend(n,{productName:s})}$.ajax({url:com.epicgames.account.web.URLS.doRequestPasswordReset,data:n,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var tt=function(e){console.log("resetPasswordDialog");var t={hideSignInLink:false};var n=$.extend({},t,N,e);var r=Tn("code");if(r!==""){$.extend(n,{code:r})}$.ajax({url:com.epicgames.account.web.URLS.doResetPassword,data:n,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var nt=function(e){console.log("requestOneTimePassword");var t={hideSignInLink:false};var n=$.extend({},t,N,e);$.ajax({url:com.epicgames.account.web.URLS.doRequestOneTimePassword,data:n,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var rt=function(){console.log("submitResetRequest");var e=r.find("form").serialize();var t=Tn("appMessage");if(t!==""){e+="&appMessage="+encodeURIComponent(t)}var n=!!i.find(".request.ko").length;var s=Tn("productName");if(n&&s){e+="&productName="+encodeURIComponent(s)}$.ajax({url:com.epicgames.account.web.URLS.doRequestPasswordReset,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(function(e,t,r){if(r.getResponseHeader("X-EPIC-LOGIN-COMPLETE-REDIRECT")){var s=$("<span>").addClass("subheading");if(n){s.addClass("ko")}var o=A("messages.com.epicgames.accountportal.passwordReset.requestResetSuccess.bodyTitle")+"<br><br>"+A("messages.com.epicgames.accountportal.common.redirecting");s.html(o);i.html(s);setTimeout(function(){window.location.replace(e.redirectURL)},1e3);return true}}),J)};var it=function(){console.log("submitRequestOneTimePassword");var e=r.find("form").serialize();var t=Tn("appMessage");if(t!==""){e+="&appMessage="+encodeURIComponent(t)}$.ajax({url:com.epicgames.account.web.URLS.doRequestOneTimePassword,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(function(e,t,n){if(n.getResponseHeader("X-EPIC-LOGIN-COMPLETE-REDIRECT")){var r=$("<span>").addClass("subheading");var s=A("messages.com.epicgames.accountportal.passwordReset.requestResetSuccess.bodyTitle")+"<br><br>"+A("messages.com.epicgames.accountportal.common.redirecting");r.html(s);i.html(r);setTimeout(function(){window.location.replace(e.redirectURL)},1e3);return true}}),J)};var st=function(e){console.log("displayNameChange");var t=$.extend({},N,e);var n=Tn("resetCode");if(n!==""){$.extend(t,{resetCode:n})}$.ajax({url:com.epicgames.account.web.URLS.doDisplayNameChange,data:t,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var ot=function(){console.log("validateDisplayNameChangeForm");var e=r.find("#displayNameChangeForm"),t=e.find("input[type=text]"),n=e.find("#submitButton");if(!h){var i={displayName:"required"};h=e.validate({rules:i,messages:{},errorPlacement:function(e,t){e.addClass("fieldValidationError").insertAfter(t)},submitHandler:function(e,t){t.preventDefault();n.addClass("disabled");n.val(A("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");ut()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}})}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var ut=function(){console.log("submitDisplayNameChange");var e=r.find("form").serialize();var t=Tn("appMessage");if(t!==""){e+="&appMessage="+encodeURIComponent(t)}$.ajax({url:com.epicgames.account.web.URLS.doDisplayNameChange,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var at=function(){var e=r.find("#resetRequestForm"),t=e.find("#email"),n=e.find("#submitButton");if(!p){console.log("validateResetRequest");p=e.validate({rules:{email:{required:true,email:true}},messages:{email:A("messages.com.epicgames.accountportal.js.validation.emailRequired")},submitHandler:function(e,t){t.preventDefault();n.addClass("disabled");n.val(A("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");rt()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}})}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var ft=function(){var e=r.find("#requestOneTimePasswordForm"),t=e.find("#email"),n=e.find("#submitButton");if(!d){console.log("requestOneTimePasswordValidator");d=e.validate({rules:{email:{required:true,email:true}},messages:{email:A("messages.com.epicgames.accountportal.js.validation.emailRequired")},submitHandler:function(e,t){t.preventDefault();n.addClass("disabled");n.val(A("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");it()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}})}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var lt=function(){var e=r.find("form").serialize();e+="&resendTwoFactor=true";$.ajax({url:com.epicgames.account.web.URLS.doTwoFactorAuth,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var ct=function(){var e=$("#submit");e.addClass("disabled");e.attr("disabled","disabled");e.removeAttr("onclick");return true};var ht=function(e){console.log("link PSN");var t=$.extend({},N,e);var n=document.getElementById("psnStateId").value;if(n!==""){$.extend(t,{psnState:n})}var r=Tn("productName");if(r!==""){$.extend(t,{productName:r})}var i=Tn("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkPsn,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var pt=function(e){var t=$.extend({},N,e);$.ajax({url:com.epicgames.account.web.URLS.noXboxAccount,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var dt=function(e,t){var n=$.extend({},N,t);$.ajax({url:com.epicgames.account.web.URLS[e+"PlatformBlock"],crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:n}).then(R(),J)};var vt=function(e){console.log("link MsId");var t=$.extend({},N,e);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Tn("productName");if(r!==""){$.extend(t,{productName:r})}var i=Tn("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkMsId,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var mt=function(e){console.log("link Nintendo");var t=$.extend({},N,e);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Tn("productName");if(r!==""){$.extend(t,{productName:r})}var i=Tn("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkNintendo,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var gt=function(e){console.log("link Twitch");var t=$.extend({},N,e);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Tn("productName");if(r!==""){$.extend(t,{productName:r})}var i=Tn("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkTwitch,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var yt=function(e){console.log("link YouTube");var t=$.extend({},N,e);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Tn("productName");if(r!==""){$.extend(t,{productName:r})}var i=Tn("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkYouTube,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R,J)};var bt=function(e){console.log("link Github");var t=$.extend({},N,e);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Tn("productName");if(r!==""){$.extend(t,{productName:r})}var i=Tn("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkGithub,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var wt=function(e){console.log("link PSN confirm");var t=$.extend({},N,e);var n=document.getElementById("psnStateId").value;if(n!==""){$.extend(t,{psnState:n})}var r=Tn("productName");if(r!==""){$.extend(t,{productName:r})}var i=Tn("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:com.epicgames.account.web.URLS.doLinkPsnConfirm,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var Et=function(e){console.log("Account already linked");var t=$.extend({},N);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=Tn("productName");if(r!==""){$.extend(t,{productName:r})}var i=Tn("productCss");if(i!==""){$.extend(t,{productCss:i})}$.ajax({url:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var St=function(){console.log("Back to success url");var e=$.extend({},N);var t=document.getElementById("successRedirect").value;if(t!==""){$.extend(e,{successRedirect:t})}$.ajax({url:com.epicgames.account.web.URLS.successRedirect,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:e}).then(R(),J)};var xt=function(){console.log("linkAccount");var e=r.find("form").serialize();$.ajax({url:com.epicgames.account.web.URLS.doLinkPsnConfirm,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var Tt=false;var Nt=false;var Ct=function(e){console.log("login");var t=$.extend({},N,e);zt(t);var n=Tn("linkExtAuth");if(n!==""){$.extend(t,{linkExtAuth:n})}$.ajax({url:com.epicgames.account.web.URLS.doLogin,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(kt),J)};var kt=function(){At();setTimeout(W,500)};var Lt=function(){if(window.ue&&window.ue.signinprompt&&r){window.ue.signinprompt.setloggingincallback(function(e){var t=r.find("#loginForm");var n=t.find("#signIn");if(!e){_(false);n.removeClass("disabled");var i=A("messages.com.epicgames.accountportal.common.signIn");n.val(i);n.removeAttr("disabled")}else{_(true);n.addClass("disabled");var s=A("messages.com.epicgames.accountportal.common.submitting");n.val(s);n.attr("disabled","disabled")}})}};var At=function(){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.getremembermeuser().then(function(e){if(e&&e.email!==""){var t=$("#epic_username");t.val(e.email);t.parent().addClass("filled");t.parent().addClass("prefilled");setTimeout(function(){$("#epic_username").parent().removeClass("prefilled")},500)}});window.ue.signinprompt.isremembermeenabled().then(function(e){if(e){document.getElementById("rememberMe").check=true}else{document.getElementById("rememberMe").checked=false}})}};var Ot=function(e){console.log("submitLogin");var t=r.find("form").serialize();var n=Tn("loginSubheading");var i=Tn("regSubheading");var s=Tn("appMessage");var o=Tn("psnState");var u=Tn("productName");if(n!==""){t+="&loginSubheading="+encodeURIComponent(n)}if(i!==""){t+="&regSubheading="+encodeURIComponent(i)}if(s!==""){t+="&appMessage="+encodeURIComponent(s)}if(o!==""){t+="&psnState="+encodeURIComponent(o)}if(u!==""){t+="&productName="+encodeURIComponent(u)}$.ajax({url:e,method:"POST",data:t,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var Mt=0;var _t=function(){var e=r.find("#loginForm"),t=e.find("#epic_username, #password"),n=e.find("#signIn");if(!s){s=e.validate({rules:{epic_username:{required:true,email:true},password:{required:true}},messages:{epic_username:A("messages.com.epicgames.accountportal.js.validation.emailRequired"),password:A("messages.com.epicgames.accountportal.js.validation.passwordRequired")},submitHandler:function(t,r){r.preventDefault();if(e.validate().checkForm()){if(!window.ue||!window.ue.signinprompt){n.addClass("disabled")}n.val(A("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");Ot(com.epicgames.account.web.URLS.doLogin)}}});if(!window.ue||!window.ue.signinprompt){t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}});var i=function(){if(e.validate().valid()){n.removeClass("disabled")}else{n.addClass("disabled");if(Mt++<10){setTimeout(i,200)}}};setTimeout(i,200)}}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var Dt=function(){var e=r.find("#loginForm"),t=e.find("#epic_username, #password"),n=e.find("#signIn");if(!s){s=e.validate({rules:{epic_username:{required:true,email:true},password:{required:true}},messages:{epic_username:A("messages.com.epicgames.accountportal.js.validation.emailRequired"),password:A("messages.com.epicgames.accountportal.js.validation.passwordRequired")},submitHandler:function(e,t){t.preventDefault();n.addClass("disabled");n.val(A("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");Ot(com.epicgames.account.web.URLS.doLinkExisting)}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}});var i=function(){if(e.validate().valid()){n.removeClass("disabled")}else{n.addClass("disabled");if(Mt++<10){setTimeout(i,200)}}};setTimeout(i,200)}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var Pt=function(){var e=r.find("#twoFactorForm"),t=e.find("#twoFactorCode"),n=e.find("#signIn");if(!o){o=e.validate({rules:{twoFactorCode:{required:true}},messages:{twoFactorCode:A("messages.com.epicgames.accountportal.js.validation.codeRequired")},submitHandler:function(t,i){i.preventDefault();if(e.validate().checkForm()){if(!window.ue||!window.ue.signinprompt){n.addClass("disabled")}n.val(A("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");var s=r.find("form").serialize();$.ajax({url:com.epicgames.account.web.URLS.doTwoFactorAuth,method:"POST",data:s,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)}}})}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var Ht=function(e){if(e){Bt()}else{qt()}};var Bt=function(e){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.requestcreateaccount()}else{var t=$.extend({},N,e);var n=com.epicgames.account.web.URLS.register+"?noHostRedirect=true";var r=Tn("redirectUrl");var i=Tn("successRedirect");if(r!==""){n+="&redirectUrl="+r}else if(t.redirectUrl){n+="&redirectUrl="+encodeURIComponent(t.redirectUrl)}else if(i!==""){n+="&redirectUrl="+i}var s=Tn("client_id");if(s!==""){n+="&client_id="+s}else if(t.client_id){n+="&client_id="+encodeURIComponent(t.client_id)}var o=Tn("state");if(o!==""){n+="&state="+o}else if(t.state){n+="&state="+encodeURIComponent(t.state)}var u=Tn("loginSubheading");if(u!==""){n+="&loginSubheading="+u}var a=Tn("regSubheading");if(a!==""){n+="&regSubheading="+a}var f=Tn("appMessage");if(f!==""){n+="&appMessage="+f}var l=Tn("productName");if(l!==""){n+="&productName="+l}window.location.href=n}};var jt=function(e){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.requestauthcodesignin(e)}};var Ft=function(e,t,n){Nt=t;Q(function(){if(window.ue&&window.ue.signinprompt){Lt();window.ue.signinprompt.requestexchangecodesignin(e,n)}})};var It=function(){if(window.ue&&window.ue.signinprompt){Tt=true;window.ue.signinprompt.requestofflinesignin()}};var qt=function(e){if(window.ue&&window.ue.signinprompt){Tt=false;window.ue.signinprompt.requestloginaccount()}else{var t=$.extend({},N,e);var n=com.epicgames.account.web.URLS.login+"?deleteExtAuth=true&noHostRedirect=true";var r=Tn("redirectUrl");if(r!==""){n+="&redirectUrl="+r}else if(t.redirectUrl){n+="&redirectUrl="+encodeURIComponent(t.redirectUrl)}var i=Tn("client_id");if(i!==""){n+="&client_id="+i}else if(t.client_id){n+="&client_id="+encodeURIComponent(t.client_id)}var s=Tn("state");if(s!==""){n+="&state="+s}else if(t.state){n+="&state="+encodeURIComponent(t.state)}var o=Tn("loginSubheading");if(o!==""){n+="&loginSubheading="+o}var u=Tn("regSubheading");if(u!==""){n+="&regSubheading="+u}var a=Tn("appMessage");if(a!==""){n+="&appMessage="+a}var f=Tn("productName");if(f!==""){n+="&productName="+f}location.href=n}};var Rt=function(e){var t=$.extend({},N,e);zt(t);$.ajax({url:com.epicgames.account.web.URLS.doLinkNew,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var Ut=function(e){var t=$.extend({},N,e);zt(t);$.ajax({url:com.epicgames.account.web.URLS.doLinkExisting,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var zt=function(e){var t=Tn("loginSubheading");var n=Tn("regSubheading");var r=Tn("appMessage");var i=Tn("authType");var s=Tn("psnDisplayName");var o=Tn("psnState");var u=Tn("productName");var a=Tn("psnCode");var f=Tn("isCreateFlow");var l=Tn("isFromCTA");if(t!==""){$.extend(e,{loginSubheading:t})}if(n!==""){$.extend(e,{regSubheading:n})}if(r!==""){$.extend(e,{appMessage:r})}if(i!==""){$.extend(e,{authType:i})}if(o!==""){$.extend(e,{psnState:encodeURIComponent(o)})}if(s!==""){$.extend(e,{psnDisplayName:s})}if(u!==""){$.extend(e,{productName:u})}if(a!==""){$.extend(e,{psnCode:a})}if(f!==""){$.extend(e,{isCreateFlow:f})}if(l!==""){$.extend(e,{isFromCTA:l})}};var Wt=function(e){var t=$(e.target);var n=t.attr("id");var i=t.prop("checked");var s=r.find("#termsAll");var o=r.find("#termsTou, #termsCollection, #termsTransfer, #termsNotification");if(n==="termsAll"){o.prop("checked",i)}else{var a=true;o.each(function(){if(!this.checked)a=false});s.prop("checked",a)}if(u){Zt()}};var Xt=function(e){console.log("showTerms");var t=$.extend({},N,e);zt(t);$.ajax({url:com.epicgames.account.web.URLS.showTerms,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var Vt=function(e){console.log("register");var t=$.extend({},N,e);zt(t);var n=window.location.hash.substr(1);if(n!==""){var r=n.split("&");for(var i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]==="first_name"){$.extend(t,{name:decodeURIComponent(s[1])})}else if(s[0]==="last_name"){$.extend(t,{lastName:decodeURIComponent(s[1])})}else if(s[0]==="email"){$.extend(t,{email:decodeURIComponent(s[1])})}else if(s[0]==="display_name"){$.extend(t,{displayName:decodeURIComponent(s[1])})}else if(s[0]==="country"){$.extend(t,{country:decodeURIComponent(s[1]).toUpperCase()})}}}$.ajax({url:com.epicgames.account.web.URLS.doRegister,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var $t=function(e,t){Kt(e,t,Vt)};var Jt=function(e,t){Kt(e,t,rn)};var Kt=function(e,t,n){if("KR"===e.toUpperCase()){Xt()}else{n({country:e})}};var Qt=function(e){console.log("signUpTerms");var t=$.extend({},N,e);zt(t);var n=r.find("form").serializeArray();for(var i in n){t[n[i].name]=n[i].value}$.extend(t,{termsAgree:document.getElementById("termsAll").checked});$.ajax({url:com.epicgames.account.web.URLS.doSignUpTerms,method:"POST",data:t,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var Gt=function(e){console.log("signUpEula");var t=$.extend({},N,e);zt(t);var n=r.find("form").serializeArray();for(var i in n){t[n[i].name]=n[i].value}$.ajax({url:com.epicgames.account.web.URLS.doSignUpEula,method:"POST",data:t,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var Yt=function(e){console.log("submitRegister");var t=r.find("form").serialize();var n=Tn("loginSubheading");var i=Tn("regSubheading");var s=Tn("appMessage");var o=Tn("psnState");var u=Tn("productName");var a=Tn("isFromCTA");var f=Tn("forceRedir");if(n!==""){t+="&loginSubheading="+encodeURIComponent(n)}if(i!==""){t+="&regSubheading="+encodeURIComponent(i)}if(s!==""){t+="&appMessage="+encodeURIComponent(s)}if(o!==""){t+="&psnState="+encodeURIComponent(o)}if(u!==""){t+="&productName="+encodeURIComponent(u)}if(a!==""){t+="&isFromCTA="+encodeURIComponent(a)}if(f){t+="&forceRedir="+encodeURIComponent(f)}$.ajax({url:e,method:"POST",data:t,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var Zt=function(){console.log("validateTermsForm");var e=r.find("#termsForm"),t=e.find("#agree");if(!u){u=e.validate({groups:{termsGroup:"termsTou termsCollection termsTransfer"},rules:{termsTou:"required",termsCollection:"required",termsTransfer:"required"},messages:{termsTou:A("messages.com.epicgames.accountportal.js.validation.termsKoAgreeRequired"),termsCollection:A("messages.com.epicgames.accountportal.js.validation.termsKoAgreeRequired"),termsTransfer:A("messages.com.epicgames.accountportal.js.validation.termsKoAgreeRequired")},errorPlacement:function(t){e.find(".termsInvalid").append(t)},submitHandler:function(n,r){r.preventDefault();if(e.validate().checkForm()){t.addClass("disabled");t.val(A("messages.com.epicgames.accountportal.common.submitting"));u=null;Qt()}}});if(e.validate().checkForm()){t.removeClass("disabled")}else{t.addClass("disabled")}}else{e.valid()}};var en=function(){console.log("validateEulaForm");var e=r.find("#eulaForm"),t=e.find("#agree");if(!a){a=e.validate({groups:{termsGroup:"eulaAgree"},rules:{eulaAgree:"required"},messages:{eulaAgree:A("messages.com.epicgames.accountportal.js.validation.eulaRequired")},errorPlacement:function(e){e.addClass("fieldValidationError");r.find("#eulaForm .checkContainer.eulaAgree").append(e)},submitHandler:function(n,r){r.preventDefault();if(e.validate().checkForm()){t.addClass("disabled");t.val(A("messages.com.epicgames.accountportal.common.submitting"));a=null;Gt()}}});if(e.validate().checkForm()){t.removeClass("disabled")}else{t.addClass("disabled")}}else{e.valid()}};var tn=function(e,t){console.log("validateRegisterForm");if(e&&t){$(e.target).removeClass("fieldInvalid").next(".fieldValidationError").remove()}var n=r.find("#registerForm"),i=n.find("input[type=text], input[type=email], input[type=password], textarea"),s=n.find("#termsAgree"),o=n.find("#register");if(!f){console.log("Creating register form validator");var u=Tn("ps4")||Tn("console");var a={displayName:"required",name:{required:true,maxlength:100},lastName:{required:true,maxlength:100},email:{required:true,email:true},verifyEmail:{required:true,email:true,equalTo:"#email"},password:{required:true,minlength:7,maxlength:256,passwordComplexity:true},country:{required:true}};if(u!=="true"){a.termsAgree="required";a["g-recaptcha-response"]="required";a["simplecaptcha-response"]="required"}else{console.log("ps4 validation");s.prop("checked",true)}var l={displayName:{required:A("messages.com.epicgames.accountportal.js.validation.displayNameRequired")},email:A("messages.com.epicgames.accountportal.js.validation.emailRequired"),password:A("messages.com.epicgames.accountportal.js.validation.passwordComplexity"),termsAgree:A("messages.com.epicgames.accountportal.js.validation.termsAgreeRequired"),"g-recaptcha-response":A("messages.com.epicgames.accountportal.js.validation.captchaRequired"),"simplecaptcha-response":A("messages.com.epicgames.accountportal.js.validation.captchaRequired"),country:A("messages.com.epicgames.accountportal.js.validation.countryRequired"),verifyEmail:{equalTo:A("messages.com.epicgames.accountportal.js.validation.equalToEmail")}};f=n.validate({rules:a,messages:l,errorPlacement:function(e,t){if(t.attr("name")==="termsAgree"){e.addClass("fieldValidationError");r.find("#registerForm .checkContainer.termsAgree").append(e)}else{if(!com.epicgames.account.web.hideValidation){e.addClass("fieldValidationError").insertAfter(t)}}},submitHandler:function(e,t){t.preventDefault();if(!window.ue||!window.ue.signinprompt){o.addClass("disabled")}o.val(A("messages.com.epicgames.accountportal.common.submitting"));o.attr("disabled","disabled");Yt(com.epicgames.account.web.URLS.doRegister)}});i.on("keyup focusout",function(){if(n.validate().checkForm()){o.removeClass("disabled")}else{if(!window.ue||!window.ue.signinprompt){o.addClass("disabled")}}});s.on("click",function(){if(n.validate().checkForm()){o.removeClass("disabled")}else{if(!window.ue||!window.ue.signinprompt){o.addClass("disabled")}}});if(!$("#g-recaptcha-response").length){console.log("falling back to simple captcha");$("#recaptcha").remove();$("#simpleCaptcha").show();$("#captchaType").val("simple")}else{console.log("using recaptcha");$("#simpleCaptcha").remove();$("#captchaType").val("re")}}else{i.removeAttr("oninput");o.removeAttr("onclick")}};var nn=function(){console.log("validateLinkNewForm");var e=r.find("#registerForm"),t=e.find("input[type=text], input[type=email], textarea"),n=e.find("#termsAgree"),i=e.find("#register");if(!l){console.log("Creating register form validator for linking a new account");var s={displayName:"required",name:{required:true,maxlength:100},lastName:{required:true,maxlength:100},email:{required:true,email:true},verifyEmail:{required:true,email:true,equalTo:"#email"},password:{required:true,minlength:7,maxlength:256,passwordComplexity:true},country:{required:true}};s["g-recaptcha-response"]="required";s["simplecaptcha-response"]="required";l=e.validate({rules:s,messages:{displayName:{required:A("messages.com.epicgames.accountportal.js.validation.displayNameRequired")},email:A("messages.com.epicgames.accountportal.js.validation.emailRequired"),password:A("messages.com.epicgames.accountportal.js.validation.passwordComplexity"),termsAgree:A("messages.com.epicgames.accountportal.js.validation.termsAgreeRequired"),"g-recaptcha-response":A("messages.com.epicgames.accountportal.js.validation.captchaRequired"),"simplecaptcha-response":A("messages.com.epicgames.accountportal.js.validation.captchaRequired"),country:A("messages.com.epicgames.accountportal.js.validation.countryRequired"),verifyEmail:{equalTo:A("messages.com.epicgames.accountportal.js.validation.equalToEmail")}},errorPlacement:function(e,t){if(t.attr("name")==="termsAgree"){r.find("#registerForm #termsAgreeContainer").append(e)}else{if(!com.epicgames.account.web.hideValidation){e.addClass("fieldValidationError").insertAfter(t)}}},submitHandler:function(e,t){t.preventDefault();i.addClass("disabled");i.val(A("messages.com.epicgames.accountportal.common.submitting"));i.attr("disabled","disabled");Yt(com.epicgames.account.web.URLS.doLinkNew)}});t.on("keyup focusout",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}});n.on("click",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}});if(!$("#g-recaptcha-response").length){console.log("falling back to simple captcha");$("#recaptcha").remove();$("#simpleCaptcha").show();$("#captchaType").val("simple")}else{console.log("using recaptcha");$("#simpleCaptcha").remove();$("#captchaType").val("re")}}else{t.removeAttr("oninput");i.removeAttr("onclick")}};var rn=function(e){console.log("headless");var t=$.extend({},N,e);var n=Tn("loginSubheading");var r=Tn("regSubheading");var i=Tn("appMessage");var s=Tn("psnCode");if(n!==""){$.extend(t,{loginSubheading:n})}if(r!==""){$.extend(t,{regSubheading:r})}if(i!==""){$.extend(t,{appMessage:i})}if(s!==""){$.extend(t,{psnCode:s})}$.ajax({url:com.epicgames.account.web.URLS.doHeadless,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var sn=function(){console.log("submitHeadless");var e=r.find("form").serialize();var t=Tn("loginSubheading");var n=Tn("regSubheading");var i=Tn("appMessage");if(t!==""){e+="&loginSubheading="+encodeURIComponent(t)}if(n!==""){e+="&regSubheading="+encodeURIComponent(n)}if(i!==""){e+="&appMessage="+encodeURIComponent(i)}$.ajax({url:com.epicgames.account.web.URLS.doHeadless,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var on=function(){console.log("validateHeadlessForm");var e=r.find("#headlessForm"),t=e.find("input[type=text], input[type=email], input[type=password], textarea"),n=e.find("#termsAgree"),i=e.find("#headless");if(!c){console.log("Creating register form validator");c=e.validate({rules:{displayName:"required",name:"required",lastName:"required",termsAgree:"required",email:{required:true,email:true},verifyEmail:{required:true,email:true,equalTo:"#email"},password:{required:true,minlength:7,maxlength:256,passwordComplexity:true}},messages:{email:A("messages.com.epicgames.accountportal.js.validation.emailRequired"),password:A("messages.com.epicgames.accountportal.js.validation.passwordComplexity"),termsAgree:A("messages.com.epicgames.accountportal.js.validation.termsAgreeRequired"),verifyEmail:{equalTo:A("messages.com.epicgames.accountportal.js.validation.equalToEmail")}},errorPlacement:function(e,t){if(t.attr("name")==="termsAgree"){e.addClass("fieldValidationError");r.find("#headlessForm #termsAgreeContainer").append(e)}else{e.addClass("fieldValidationError").insertAfter(t)}},submitHandler:function(e,t){t.preventDefault();i.addClass("disabled");i.val(A("messages.com.epicgames.accountportal.common.submitting"));i.attr("disabled","disabled");sn()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}});n.on("click",function(){if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}});if(e.validate().checkForm()){i.removeClass("disabled")}else{i.addClass("disabled")}}else{t.removeAttr("oninput");i.removeAttr("onclick")}};var un=function(e){console.log("sdn");var t=$.extend({},N,e);var n=Tn("loginSubheading");var r=Tn("regSubheading");var i=Tn("appMessage");var s=Tn("psnState");var o=Tn("authType");var u=Tn("psnDisplayName");var a=Tn("linkExtAuth");var f=Tn("productName");var l=Tn("redirectUrl");var c=Tn("successRedirect");if(n!==""){$.extend(t,{loginSubheading:n})}if(r!==""){$.extend(t,{regSubheading:r})}if(i!==""){$.extend(t,{appMessage:i})}if(s!==""){$.extend(t,{psnState:s})}if(o!==""){$.extend(t,{authType:o})}if(u!==""){$.extend(t,{psnDisplayName:u})}if(a!==""){$.extend(t,{linkExtAuth:a})}if(f!==""){$.extend(t,{productName:f})}if(c!==""){$.extend(t,{redirectUrl:c})}else if(l!==""){$.extend(t,{redirectUrl:l})}$.ajax({url:com.epicgames.account.web.URLS.showSdn,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(ln),J)};var an=function(){var e=$("#sdnForm"),t=e.find("#pob, #dob, #country, #city"),n=e.find("#submitForm");if(!g){var r=new Date;var i=r.getFullYear();g=e.validate({rules:{dobDay:{required:true,range:[1,31],number:true},dobMonth:{required:true,range:[1,12],number:true},dobYear:{required:true,range:[1900,i],number:true},pob:{required:true},country:{required:true},city:{required:true}},messages:{pob:{required:A("messages.com.epicgames.accountportal.js.validation.pobRequired")},dobDay:{required:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.required"),range:A("messages.com.epicgames.accountportal.js.validation.invalidDay"),number:A("messages.com.epicgames.accountportal.js.validation.invalidDay")},dobMonth:{required:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.required"),range:A("messages.com.epicgames.accountportal.js.validation.invalidMonth"),number:A("messages.com.epicgames.accountportal.js.validation.invalidMonth")},dobYear:{required:A("messages.com.epicgames.accountportal.js.jqueryvalidate.defaults.required"),range:A("messages.com.epicgames.accountportal.js.validation.invalidYear"),number:A("messages.com.epicgames.accountportal.js.validation.invalidYear")},country:A("messages.com.epicgames.accountportal.js.validation.countryOfResidenceRequired"),city:A("messages.com.epicgames.accountportal.js.validation.cityOfResidenceRequired")},submitHandler:function(e,t){t.preventDefault();n.addClass("disabled");n.val(A("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");fn()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}});$("#country").on("selectmenuselect",function(){$("#country-error").hide()})}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var fn=function(){console.log("submitSdn");var e=r.find("form").serialize();$.ajax({url:com.epicgames.account.web.URLS.showSdn,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(ln),J)};var ln=function(e,t,n){if(window.ue&&window.ue.sdn){if(n.getResponseHeader("X-EPIC-SDN-COMPLETED")){ue.sdn.questionnairecompleted()}else if(n.getResponseHeader("X-EPIC-SDN-ERROR")){ue.sdn.questionnaireerror(n.getResponseHeader("X-EPIC-SDN-ERROR"))}else if(n.getResponseHeader("X-EPIC-SDN-CANCELLED")){ue.sdn.questionnaireclosed()}}};var cn=function(){if(window.ue&&window.ue.sdn){ue.sdn.questionnaireclosed()}else{var e=$("[name='redirectUrl']").val();if(e===undefined){e=$("[name='defaultRedirectUrl']").val()}window.location.replace(e)}};var hn=function(){if(window.ue&&window.ue.sdn){ue.sdn.questionnairecompleted()}else{var e=$("[name='redirectUrl']").val();if(e===undefined){e=$("[name='defaultRedirectUrl']").val()}window.location.replace(e)}};var pn=function(e){console.log("edit");var t=$.extend({},e);var n=Tn("appMessage");if(n!==""){$.extend(t,{appMessage:n})}if(x){$.extend(t,{redirectUrl:x})}if($.support.cors){dn(t)}else{t.noCorsUrl=com.epicgames.account.web.URLS.edit;I(t)}};var dn=function(e){console.log("editDialog");var t=Tn("appMessage");var n=$.extend({},e);if(t!==""){$.extend(n,{appMessage:t})}if(x){$.extend(n,{redirectUrl:x})}if(T===undefined){B(function(){})}$.ajax({url:com.epicgames.account.web.URLS.doEdit,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:n}).then(R(),J)};var vn=function(){console.log("submitEditForm");var e=r.find("form").serialize();var t=Tn("appMessage");if(t!==""){e+="&appMessage="+encodeURIComponent(t)}$.ajax({url:com.epicgames.account.web.URLS.doEdit,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var mn=function(){console.log("validateEditForm");if(!m){console.log("Creating edit form validator");m=r.find("#editForm").validate({rules:{currentPassword:{required:{depends:function(){return $("#password").val().length>0}}},password:{required:{depends:function(){return $("#currentPassword").val().length>0}},minlength:7,maxlength:256,passwordComplexity:true},confirmPassword:{equalTo:"#password"},name:"required",lastName:"required"},messages:{currentPassword:A("messages.com.epicgames.accountportal.js.validation.currentPasswordRequired"),password:A("messages.com.epicgames.accountportal.js.validation.passwordComplexity"),confirmPassword:A("messages.com.epicgames.accountportal.js.validation.passwordConfirmDoesNotMatch")},submitHandler:function(e,t){t.preventDefault();var n=r.find("#editForm #saveChanges");n.addClass("disabled");n.val(A("messages.com.epicgames.accountportal.common.submitting"));n.attr("disabled","disabled");vn()}})}else{r.find("#editForm input").removeAttr("oninput");r.find("#editForm #saveChanges").removeAttr("onclick")}};var gn=function(){var e=$(".accountPortalChangePassword");if(e.css("display")==="none"){e.slideDown(400,"swing")}else{$("#currentPassword").val("");$("#password").val("");$("#confirmPassword").val("");e.slideUp(400,"swing")}};var yn=function(){var e={redirectUrl:window.location.origin};bn(e,true)};var bn=function(e,t){var n=$.extend({},e);var r=Tn("appMessage");if(r!==""){$.extend(n,{appMessage:r})}if($.support.cors){En(n,t)}else{n.noCorsUrl=com.epicgames.account.web.URLS.logout;I(n)}};var wn=function(e){K();n.show();r.show();var t=$.extend({},e);var i=Tn("completeUrl");if(i!==""){$.extend(t,{completeUrl:i})}var s=Tn("alreadyLinked");if(s!==""){$.extend(t,{alreadyLinked:s})}$.ajax({url:com.epicgames.account.web.URLS.doShowPsnLink,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var En=function(e,t){console.log("logout");var n=$.extend({},e);var r=t?qt:V;$.ajax({url:com.epicgames.account.web.URLS.logoutDialogContents,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:n}).then(R(function(){$.ajax({url:t?com.epicgames.account.web.URLS.doLogoutWithoutRedirect:com.epicgames.account.web.URLS.doLogout,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t?n.redirectUrl:N}).then(r,J)}),J)};var Sn=function(){var e=r.find("#resetPasswordForm"),t=e.find("input[type=text], input[type=email], input[type=password]"),n=e.find("#submitButton");if(!v){console.log("passwordResetValidator");v=e.validate({rules:{code:"required",password:{required:true,minlength:7,maxlength:256,passwordComplexity:true},newpassverify:{equalTo:"#newPassword"}},messages:{password:A("messages.com.epicgames.accountportal.js.validation.passwordComplexity"),newpassverify:A("messages.com.epicgames.accountportal.js.validation.newPassVerifyMustMatch")},submitHandler:function(e,t){t.preventDefault();n.attr("disabled","disabled");n.val(A("messages.com.epicgames.accountportal.common.submitting"));n.addClass("disabled");xn()}});t.on("keyup focusout",function(){if(e.validate().checkForm()){n.removeClass("disabled")}else{n.addClass("disabled")}})}else{t.removeAttr("oninput");n.removeAttr("onclick")}};var xn=function(){console.log("submitPasswordReset");r=$("#accountPortalModalDialog");i=$("#accountPortalModalDialogContents");var e=r.find("form").serialize();var t=Tn("loginSubheading");var n=Tn("regSubheading");var s=Tn("appMessage");var o=Tn("psnState");var u=Tn("productName");if(t!==""){e+="&loginSubheading="+encodeURIComponent(t)}if(n!==""){e+="&regSubheading="+encodeURIComponent(n)}if(s!==""){e+="&appMessage="+encodeURIComponent(s)}if(o!==""){e+="&psnState="+encodeURIComponent(o)}if(u!==""){e+="&productName="+encodeURIComponent(u)}$.ajax({url:com.epicgames.account.web.URLS.doResetPassword,method:"POST",data:e,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var Tn=function(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=n.exec(window.location.search);var i=r===null?"":r[1].replace(/\+/g," ");return t==true?i:decodeURIComponent(i)};var Nn=function(e){console.log("authorize");var t=$.extend({},e);var n=com.epicgames.account.web.URLS.authorize+"?response_type=code";if(y===undefined){console.error("You must send a clientId, please call setClientId");return}n+="&client_id="+y;if(t.forRegister!==undefined){n+="&forRegister=true"}if(t.state!==undefined){n+="&state="+encodeURIComponent(t.state)}if($.support.cors){if(t.appMessage!==undefined){n+="&appMessage="+encodeURIComponent(t.appMessage)}if(t.regSubheading!==undefined){n+="&regSubheading="+encodeURIComponent(t.regSubheading)}if(t.loginSubheading!==undefined){n+="&loginSubheading="+encodeURIComponent(t.loginSubheading)}n+="&forWidget=true";$.ajax({url:n,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)}else{t.noCorsUrl=n;I(t)}};var Cn=function(e){console.log("doAuthorize");var t=$.extend({},N,e);var n=Tn("state");var r=Tn("response_type");if(n!==""){$.extend(t,{state:n})}if(r!==""){$.extend(t,{responseType:r})}var i=com.epicgames.account.web.URLS.doAuthorize;$.ajax({url:i,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var kn=function(){console.log("acceptAuthorize");var e=r.find("form").serialize();e+="&response_type="+Tn("response_type");e+="&forWidget=true";var t=com.epicgames.account.web.URLS.doAuthorize;$("input[type=submit]").attr("disabled",true);$.ajax({url:t,method:"POST",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:e}).then(R(),J)};var Ln=function(e){var t=$("#country").attr("value");if(t!==undefined){if(t===""){if(e){$.get(e,function(e){rr(e)})}else{ir()}}else{rr(t)}}};var An=function(){var e=com.epicgames.account.web.URLS.loginPsn;var t=y;e+="?isPopup=true";if(t===undefined){t=Tn("client_id")}e+="&client_id="+t;var n=Tn("productName");if(n===null||n===""){n="paragon"}e+="&productName="+n;var r=Tn("productCss",true);if(r!==""){e+="&productCss="+r}M(e,"externalLogin",400,600);return false};var On=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+Math.random()*16)%16|0;e=Math.floor(e/16);return(t==="x"?n:n&3|8).toString(16)})};var Mn=function(e,t,n){var r=!n?On():"";if(window.ue&&window.ue.signinprompt){window.ue.environment.getbaseurl("launcher.epicgames").then(function(n){window.ue.common.launchexternalurl(n+"/external-login?authType="+e+"&isRegister="+(t?"true":"false")+"&loginRequestId="+r)})}else{var i=tr(e,t,r,n);var s="600";var o="400";if(e=="nintendo"){s="800";o="1100"}if(e=="vk"){s="350";o="655"}M(i,"externalLogin",o,s)}if(!n){window.location.href=com.epicgames.account.web.URLS.externalLogin+"?authType="+e+"&loginRequestId="+r+"&isRegister="+t}return false};var _n=function(e,t){if(window.ue&&window.ue.signinprompt){window.ue.environment.getbaseurl("accounts.launcher.epicgames").then(function(t){var n=t+"/login?loginType="+e+"&noHostRedirect=true&client_id=cd2b7c19c9734a2ab98dc251868d7724&skipReg=true&productName=fortnite&successRedirect="+t+"/launcher/consoleLoginResult?"+encodeURIComponent("productName=fortnite&authType="+e);window.ue.common.launchexternalurl(n)})}else{var n=com.epicgames.account.web.URLS.login+"?loginType="+e+"&noHostRedirect=true&client_id=cd2b7c19c9734a2ab98dc251868d7724&skipReg=true&isPopup=true&productName=fortnite"+"&successRedirect="+com.epicgames.account.web.URLS.consoleLoginResult+"?"+encodeURIComponent("productName=fortnite&authType="+e);M(n,"externalLogin",400,600)}return false};var Dn=function(e){var t=$.extend({},N,e);zt(t);$.ajax({url:com.epicgames.account.web.URLS.doConsoleLoginResult,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J)};var Pn=function(e,t,n,r,i){if(window.ue&&window.ue.social&&window.ue.social.getthirdpartyaccounts){window.ue.social.getthirdpartyaccounts("steam",n).then(function(s){var o=s?JSON.parse(s):{};Hn(e,t,n,r,i,o)})}else{Hn(e,t,n,r,i,k)}return false};var Hn=function(e,t,n,r,s,o){if(!o){o={}}Q(function(){i.html(com.epicgames.account.web.steamAccountsTemplate);var u=$("#steamAccounts");u.addClass("hidden");$("#refreshNow").addClass("asText");$("#refreshNow").css("pointer-events","none");$("#loader").removeClass("hidden");setTimeout(function(){$("#refreshNow").removeClass("asText");$("#refreshNow").css("pointer-events","auto");$("#loader").addClass("hidden");u.removeClass("hidden")},1e3);var a=Object.keys(o).slice(0,n);a.forEach(function(n){if(o.hasOwnProperty(n)){var i=o[n];var a=i.avatar&&i.avatar.length>2?"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/"+i.avatar.substring(0,2)+"/"+i.avatar+"_medium.jpg":"";u.append('<li class="account" onClick="return com.epicgames.account.web.widgets.linkThisSteamAccount('+e+", '"+r+"', '"+s+"', '"+n+"')\">"+'    <div class="account_avatar_container">'+(t&&a?'<img class="account_avatar" src="'+a+'" onerror="this.style.display=\'none\'">':"")+i.name.charAt(0)+"    </div"+'    <div class="account_name">'+i.name+"</div>"+"</li>")}})});return false};var Bn=function(e,t,n,r){if(r){if(window.ue&&window.ue.social&&window.ue.social.getthirdpartyfriends){window.ue.social.getthirdpartyfriends("steam",r,1).then(function(r){var i=r?JSON.parse(r):null;jn(e,t,n,i)})}else if(k&&Object.keys(k).length){jn(e,t,n,k[r])}}return false};var jn=function(e,t,n,r){var i=r?{id:r.id,idHashed:r.id_hashed,name:r.name,avatar:r.avatar,type:"steam",friends:r.friends}:null;if(e){Jn(r)}else{Qn(t,"steam",n,i);return false}};var Fn=function(e,t){if(e){if(window.ue&&window.ue.social&&window.ue.social.getthirdpartyfriends){window.ue.social.getthirdpartyfriends("steam",e,t).then(function(e){In(e?JSON.parse(e):null,t)})}else if(k){In(k[e],t)}}return false};var In=function(e,t){var n=e?{id:e.id,idHashed:e.id_hashed,name:e.name,avatar:e.avatar,type:"steam",friends:e.friends?e.friends.slice(0,t):[]}:{type:"steam"};$.ajax({url:com.epicgames.account.web.URLS.friendsImport,method:"POST",data:JSON.stringify({account:n}),dataType:"html",contentType:"application/json; charset=utf-8",crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J);return false};var qn=function(e){if(window.ue&&window.ue.social&&window.ue.social.getthirdpartyfriends){window.ue.social.getthirdpartyfriends("steam",e,1).then(function(e){var t=e?JSON.parse(e):null;Rn(t)})}else{Rn(k[e])}};var Rn=function(e){var t=$.extend({},N);var n=document.getElementById("extLoginState").value;if(n!==""){$.extend(t,{extLoginState:n})}var r=document.getElementById("steamAccountId").value;if(r!==""){$.extend(t,{steamAccountId:r})}var i=document.getElementById("displayName").value;if(i!==""){$.extend(t,{displayName:i})}$.ajax({url:!e?com.epicgames.account.web.URLS.noSteamProfile:com.epicgames.account.web.URLS.wrongSteamProfile,crossDomain:$.support.cors,data:t,xhrFields:{withCredentials:true}}).then(R(),J);return false};var Un=function(e){if(window.ue&&window.ue.social&&window.ue.social.getthirdpartyfriends){window.ue.social.getthirdpartyfriends("steam",e,1).then(function(e){var t=e?JSON.parse(e):null;zn(t)})}else{zn(k[e])}};var zn=function(e){if(e){$("#differentProfile").text(function(){return $(this).text().replace(/#username#/g,e.name)})}};var Wn=function(){if(window.ue&&window.ue.social&&window.ue.social.getthirdpartyaccounts){window.ue.social.getthirdpartyaccounts("steam",1).then(function(e){var t=e?JSON.parse(e):null;Xn(t)})}else{Xn(k)}};var Xn=function(e){if(e&&Object.keys(e).length>0){$("#otherConnections").removeClass("hidden");$("#otherSuggestions").addClass("hidden");$("#steamLinkingBtn").removeClass("hidden")}else{$("#steamLinkingBtn").addClass("hidden")}};var Vn=function(){if($(".connectionsTab_connectionBtn:not(.hidden)").length>0){$("#otherConnections").removeClass("hidden")}else{$("#otherSuggestions").removeClass("hidden")}};var $n=function(e){if(window.ue&&window.ue.social&&window.ue.social.getthirdpartyfriends){window.ue.social.getthirdpartyfriends("steam",e,1).then(function(e){var t=e?JSON.parse(e):null;Jn(t)})}else{var t=k[e];t.id=e;Jn(t)}};var Jn=function(e){var t=r.find("form").serialize();if(e){t+="&steamId="+e.id;t+="&steamIdHashed="+e.id_hashed;t+="&steamName="+e.name;t+="&steamAvatar="+e.avatar}$.ajax({url:com.epicgames.account.web.URLS.doLinkSteamAccount,method:"POST",dataType:"html",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:t}).then(R(),J);return false};var Kn=function(){$.ajax({url:com.epicgames.account.web.URLS.addFriends,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J);return false};var Qn=function(e,t,n,r){var i=JSON.parse(atob(n));var s=i.loginRequestId;if(window.ue){window.ue.common.launchexternalurl(e)}else{var o=window.open(e,"externalLogin","left=0,top=0,height=600,width=400");if(o){o.focus()}}com.epicgames.account.web.externalLinkRetryCount=60;Gn(t,s,0,r);return false};var Gn=function(e,t,n,r){n=n?n:0;$.ajax({url:com.epicgames.account.web.URLS.doExternalLink,method:"POST",contentType:"application/json; charset=utf-8",dataType:"html",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:JSON.stringify({authType:e,loginRequestId:t,expectedAccount:r})}).then(R(function(i,s,o){if(n<com.epicgames.account.web.externalLinkRetryCount&&!o.getResponseHeader("X-EPIC-LOGIN-COMPLETE-REDIRECT")){setTimeout(function(){if(n<com.epicgames.account.web.externalLinkRetryCount){Gn(e,t,n+1,r)}},n<5?2e3:1e4)}else if(n>=60){Yn(e)}return false}),J)};var Yn=function(e){$.ajax({url:com.epicgames.account.web.URLS.externalLinkTimeout,crossDomain:$.support.cors,data:{authType:e},xhrFields:{withCredentials:true}}).then(R(),J)};var Zn=function(e,t,n,r){r=r?r:0;$.ajax({url:com.epicgames.account.web.URLS.doExternalLogin,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:{authType:e,loginRequestId:t,isRegister:n}}).then(R(function(i,s,o){if(r<60&&!o.getResponseHeader("X-EPIC-LOGIN-COMPLETE-REDIRECT")){setTimeout(function(){Zn(e,t,n,r+1)},r<5?2e3:1e4)}return false}),J)};var er={facebook:com.epicgames.account.web.URLS.facebookLogin,google:com.epicgames.account.web.URLS.googleLogin,qq:com.epicgames.account.web.URLS.qqLogin,vk:com.epicgames.account.web.URLS.vkLogin,psn:com.epicgames.account.web.URLS.loginPsn,xbl:com.epicgames.account.web.URLS.loginXbl,nintendo:com.epicgames.account.web.URLS.loginNintendo};var tr=function(e,t,n,r){var i=er[e];var s=i+"?isPopup=true";var o=Tn("redirectUrl",true);if(o!==""){s+="&redirectUrl="+o}var u=Tn("client_id");if(u!==""){s+="&client_id="+u}var a=Tn("state");if(a!==""){s+="&state="+a}var f=Tn("productName");if(f!==""){s+="&productName="+f}var l=Tn("createHeadless");if(l!==""){s+="&createHeadless="+l}if(t){s+="&isCreateFlow="+t}if(n&&n!==""){s+="&loginRequestId="+n}if(r){s+="&isWeb=true"}return s};var nr=function(e,t,n){return function(){$.ajax({url:com.epicgames.account.web.URLS.checkExternalLoginStatus+"?loginRequestId="+e,method:"GET",crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:{}}).then(function(r){console.log("data: "+r);if(r.id!==""&&r.map){if(r.map.error||r.map.errorcode){if(t){Bt()}else{qt()}}else{window.location.href=r.map.redirectUrl}}else{if(n<64){checkStatusTimer=setTimeout(nr(e,t,n+1),n<10?2e3:1e4)}else{if(t){Bt()}else{qt()}}}},function(e,t){console.log("error: "+t)})}};var rr=function(e){if(e!==null){console.log("country detected: "+e);$("#country").find("option").filter(function(){return $(this).val()===e}).prop("selected",true)}else{console.log("no automatic country detection")}ir(e)};var ir=function(e){if(window&&window.ue&&com.epicgames.account.web.launcherScroll){var t=$("#country");if(t.length){console.log("form loaded!");if(t.val()||$("#sdnForm").length){console.log("country located!");console.log("selectedCountryValue",t.val());$("#country").selectmenu({appendTo:".textField"});$("#country").attr("newDropdown",true);if(com.epicgames.account.web.widgets.__countryChanged){$("#country").on("selectmenuchange",function(t){com.epicgames.account.web.widgets.__countryChanged(t.target.value,e)})}}else{console.log("country is NOT located yet, wait for location")}}}};var sr=function(){if(window.ue&&window.ue.signinprompt){window.ue.signinprompt.setremembermeenabled(document.getElementById("rememberMe").checked)}};var or=function(e){$.ajax({url:com.epicgames.account.web.URLS.getFriendsConnections,crossDomain:$.support.cors,data:e,xhrFields:{withCredentials:true}}).then(R(),J)};var ur=function(e){$.ajax({url:com.epicgames.account.web.URLS.getSuggestedFriends,crossDomain:$.support.cors,data:e,xhrFields:{withCredentials:true}}).then(R(),J)};var ar=function(e){$.ajax({url:com.epicgames.account.web.URLS.getFriendsRequests,crossDomain:$.support.cors,data:e,xhrFields:{withCredentials:true}}).then(R(),J)};var fr=function(){$.ajax({url:com.epicgames.account.web.URLS.getRecentPlayers,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var lr=function(){$.ajax({url:com.epicgames.account.web.URLS.connectionSuccess,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var cr=function(e){$.ajax({url:com.epicgames.account.web.URLS.skipFriendsImport,crossDomain:$.support.cors,xhrFields:{withCredentials:true},data:{friendsCount:e}}).then(R(),J)};var hr=function(e){$.ajax({url:com.epicgames.account.web.URLS.friendsImport,crossDomain:$.support.cors,data:{source:e},xhrFields:{withCredentials:true}}).then(R(),J)};var pr=function(e){$("input:checkbox").not(e).prop("checked",e.checked)};var dr=function(e){var t=e.value.toLowerCase();$(".friendsList_user").each(function(e,n){var r=$(n).find(".friendsList_external_auth_name").toArray();r=r.concat($(n).find(".friendsList_display_name").toArray());for(var i=0;i<r.length;i++){var s=r[i];if(s.innerHTML.toLowerCase().indexOf(t)>-1){n.style.display="";return}else{n.style.display="none"}}})};var vr=function(){var e=A("messages.com.epicgames.accountportal.launcher.friends.selectFriends");var t=A("messages.com.epicgames.accountportal.launcher.friends.deselectFriends");var n=A("messages.com.epicgames.accountportal.launcher.friends.addFriends");var r=A("messages.com.epicgames.accountportal.launcher.friends.acceptFriends");var i=A("messages.com.epicgames.accountportal.launcher.friends.declineFriends");C=[];var s=$(".friendSelected").length;$(".friendSelected").each(function(){if($(this).is(":checked")){C.push($(this).val())}});var o=$("#addFriendsBtn")[0];var u=$("#acceptAllBtn")[0];var a=$("#declineAllBtn")[0];var f=$("#selectAllLabel")[0];if(o){o.value=n.replace("{0}",C.length)}if(u){u.value=r.replace("{0}",C.length)}if(a){a.value=i.replace("{0}",C.length)}if(C.length>0){$("input:checkbox#selectAllCheckbox").prop("checked",true);if(f){f.innerText=t.replace("{0}",C.length)}if(o){o.disabled=false}if(u){u.disabled=false}if(a){a.disabled=false}}else{$("input:checkbox#selectAllCheckbox").prop("checked",false);if(f){f.innerText=e.replace("{0}",s)}if(o){o.disabled=true}if(u){u.disabled=true}if(a){a.disabled=true}}};var mr=function(e,t){console.log("doBatchFriendsRequest");var n=r.find("form").serialize();n+="&tab="+e;n+="&doDelete="+!!t;var i=C;window.onbeforeunload=undefined;if(i&&i.length>0){for(var s=0;s<i.length;s++){var o=i[s];n+="&targetAccountId="+o}$.ajax({url:com.epicgames.account.web.URLS.doBatchFriendsRequest,method:"POST",data:n,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)}};var gr=function(e){console.log("doImportAllFriends");var t=r.find("form").serialize();t+="&tab="+e;var n=$(".friendsList_userId").toArray();if(n&&n.length>0){for(var i=0;i<n.length;i++){var s=n[i];t+="&targetAccountId="+s.innerHTML}$.ajax({url:com.epicgames.account.web.URLS.doBatchFriendsRequest,method:"POST",data:t,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)}};var yr=function(e,t){console.log("sendFriendRequest");var n=r.find("form").serialize();n+="&tab="+e;if(t){n+="&targetAccountId="+t}$.ajax({url:com.epicgames.account.web.URLS.sendFriendRequest,method:"POST",data:n,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var br=function(e,t){console.log("addPlayerToBlockList");var n=r.find("form").serialize();n+="&tab="+e;if(t){n+="&targetAccountId="+t}$.ajax({url:com.epicgames.account.web.URLS.addPlayerToBlockList,method:"POST",data:n,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};var wr=function(e,t){console.log("cancelFriendsRequest");var n=r.find("form").serialize();n+="&tab="+e;if(t){n+="&targetAccountId="+t}$.ajax({url:com.epicgames.account.web.URLS.cancelFriendsRequest,method:"POST",data:n,crossDomain:$.support.cors,xhrFields:{withCredentials:true}}).then(R(),J)};e.__setAuthorizeRedirParams=j;e.__requestResetDialog=et;e.__displayNameChange=st;e.requestOneTimePassword=nt;e.requestReset=Z;e.validateResetRequest=at;e.__login=Ct;e.__linkPsn=ht;e.__linkTwitch=gt;e.__linkYouTube=yt;e.__linkGithub=bt;e.__linkPsnConfirm=wt;e.__alreadyLinked=Et;e.__linkMsId=vt;e.__linkNintendo=mt;e.linkAccount=xt;e.validateLoginForm=_t;e.validateTermsForm=Zt;e.validateEulaForm=en;e.validateRegisterForm=tn;e.validateHeadlessForm=on;e.validateEditForm=mn;e.validateDisplayNameChangeForm=ot;e.setClientId=D;e.toggleTerms=Wt;e.__showTerms=Xt;e.__register=Vt;e.__countryChanged=$t;e.__changeHeadlessCountry=Jt;e.__headless=rn;e.authorize=Nn;e.acceptAuthorize=kn;e.__doAuthorize=Cn;e.hideModal=G;e.logoutAndBackToLogin=yn;e.logout=bn;e.__logoutDialog=En;e.setLogoutCallbackFn=P;e.__editDialog=dn;e.edit=pn;e.setNoCorsRedirectUrl=H;e.toggleChangePassword=gn;e.validateResetForm=Sn;e.setDialogCloseCallback=B;e.setEditSuccessRedirectUrl=F;e.__showPsnAssociation=wn;e.submitLinkPsnForm=ct;e.openLoginPsnPopup=An;e.validateSdnForm=an;e.loadSdnForm=un;e.cancelSdnForm=cn;e.externalLogin=Mn;e.externalLink=Qn;e.showSteamProfiles=Pn;e.doShowSteamProfiles=Hn;e.linkThisSteamAccount=Bn;e.doLinkThisSteamAccount=jn;e.importSteamFriends=Fn;e.doImportSteamFriends=In;e.identifySteamProfile=Un;e.showSteamAccountConfirm=qn;e.doShowSteamAccountConfirm=Rn;e.showLinkBtns=Vn;e.showSteamLinkBtn=Wn;e.doShowSteamLinkBtn=Xn;e.linkSteamAccount=$n;e.doLinkSteamAccount=Jn;e.doExternalLink=Gn;e.doExternalLogin=Zn;e.updateRememberMe=sr;e.switchToRegister=Bt;e.cancelExternalLogin=Ht;e.completedSdnForm=hn;e.switchToLogin=qt;e.switchToLinkNew=Rt;e.switchToLinkExisting=Ut;e.validateLinkNewForm=nn;e.validateLinkExistingForm=Dt;e.enterOffline=It;e.noXboxAccount=pt;e.platformBlock=dt;e.loginWithAuthCode=jt;e.loginWithExchangeCode=Ft;e.showPleaseWait=_;e.checkExternalLoginStatus=nr;e.validateTwoFactorForm=Pt;e.resendTwoFactor=lt;e.validateRequestOneTimePassword=ft;e.resetPasswordDialog=tt;e.getFriendsConnections=or;e.getSuggestedFriends=ur;e.getFriendsRequests=ar;e.getRecentPlayers=fr;e.backToSuccessUrl=St;e.connectionSuccess=lr;e.skipFriendsImport=cr;e.addFriends=Kn;e.friendsImport=hr;e.selectAllFriends=pr;e.filterFriends=dr;e.collectSelectedFriends=vr;e.doBatchFriendsRequest=mr;e.doImportAllFriends=gr;e.cancelFriendsRequest=wr;e.sendFriendRequest=yr;e.addPlayerToBlockList=br;e.consoleLogin=_n;e.doConsoleResult=Dn;return e}()